!function(r,t,e){r[t]=e()}("undefined"!=typeof window?window:this,"QRCode",function(){for(var r="length",t=[null,[[10,7,17,13],[1,1,1,1],[]],[[16,10,28,22],[1,1,1,1],[4,16]],[[26,15,22,18],[1,1,2,2],[4,20]],[[18,20,16,26],[2,1,4,2],[4,24]],[[24,26,22,18],[2,1,4,4],[4,28]],[[16,18,28,24],[4,2,4,4],[4,32]],[[18,20,26,18],[4,2,5,6],[4,20,36]],[[22,24,26,22],[4,2,6,6],[4,22,40]],[[22,30,24,20],[5,2,8,8],[4,24,44]],[[26,18,28,24],[5,4,8,8],[4,26,48]],[[30,20,24,28],[5,4,11,8],[4,28,52]],[[22,24,28,26],[8,4,11,10],[4,30,56]],[[22,26,22,24],[9,4,16,12],[4,32,60]],[[24,30,24,20],[9,4,16,16],[4,24,44,64]],[[24,22,24,30],[10,6,18,12],[4,24,46,68]],[[28,24,30,24],[10,6,16,17],[4,24,48,72]],[[28,28,28,28],[11,6,19,16],[4,28,52,76]],[[26,30,28,28],[13,6,21,18],[4,28,54,80]],[[26,28,26,26],[14,7,25,21],[4,28,56,84]],[[26,28,28,30],[16,8,25,20],[4,32,60,88]],[[26,28,30,28],[17,8,25,23],[4,26,48,70,92]],[[28,28,24,30],[17,9,34,23],[4,24,48,72,96]],[[28,30,30,30],[18,9,30,25],[4,28,52,76,100]],[[28,30,30,30],[20,10,32,27],[4,26,52,78,104]],[[28,26,30,30],[21,12,35,29],[4,30,56,82,108]],[[28,28,30,28],[23,12,37,34],[4,28,56,84,112]],[[28,30,30,30],[25,12,40,34],[4,32,60,88,116]],[[28,30,30,30],[26,13,42,35],[4,24,48,72,96,120]],[[28,30,30,30],[28,14,45,38],[4,28,52,76,100,124]],[[28,30,30,30],[29,15,48,40],[4,24,50,76,102,128]],[[28,30,30,30],[31,16,51,43],[4,28,54,80,106,132]],[[28,30,30,30],[33,17,54,45],[4,32,58,84,110,136]],[[28,30,30,30],[35,18,57,48],[4,28,56,84,112,140]],[[28,30,30,30],[37,19,60,51],[4,32,60,88,116,144]],[[28,30,30,30],[38,19,63,53],[4,28,52,76,100,124,148]],[[28,30,30,30],[40,20,66,56],[4,22,48,74,100,126,152]],[[28,30,30,30],[43,21,70,59],[4,26,52,78,104,130,156]],[[28,30,30,30],[45,22,74,62],[4,30,56,82,108,134,160]],[[28,30,30,30],[47,24,77,65],[4,24,52,80,108,136,164]],[[28,30,30,30],[49,25,81,68],[4,28,56,84,112,140,168]]],e=0,n=1,a=2,o=4,u=8,f=/^\d*$/,i=/^[A-Za-z0-9 $%*+\-./:]*$/,c=/^[A-Z0-9 $%*+\-./:]*$/,l=1,s=0,v=3,h=2,d=[],p=[-1],m=0,g=1;255>m;++m)d.push(g),p[g]=m,g=2*g^(128>g?0:285);for(var w=[[]],m=0;30>m;++m){for(var x=w[m],F=[],b=0;m>=b;++b){var C=m>b?d[x[b]]:0,y=d[(m+(x[b-1]||0))%255];F.push(p[C^y])}w.push(F)}for(var M={},m=0;45>m;++m)M["0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:".charAt(m)]=m;var A=[function(r,t){return(r+t)%2===0},function(r){return r%2===0},function(r,t){return t%3===0},function(r,t){return(r+t)%3===0},function(r,t){return((r/2|0)+(t/3|0))%2===0},function(r,t){return r*t%2+r*t%3===0},function(r,t){return(r*t%2+r*t%3)%2===0},function(r,t){return((r+t)%2+r*t%3)%2===0}],N=function(r){return r>6},k=function(r){return 4*r+17},L=function(e){var n=t[e],a=16*e*e+128*e+64;return N(e)&&(a-=36),n[2][r]&&(a-=25*n[2][r]*n[2][r]-10*n[2][r]-55),a},R=function(r,e){var n=-8&L(r),a=t[r];return n-=8*a[0][e]*a[1][e]},S=function(r,t){switch(t){case n:return 10>r?10:27>r?12:14;case a:return 10>r?9:27>r?11:13;case o:return 10>r?8:16;case u:return 10>r?8:27>r?10:12}},$=function(r,t,e){var f=R(r,e)-4-S(r,t);switch(t){case n:return 3*(f/10|0)+(4>f%10?0:7>f%10?1:2);case a:return 2*(f/11|0)+(6>f%11?0:1);case o:return f/8|0;case u:return f/13|0}},E=function(t,e){switch(t){case n:return e.match(f)?e:null;case a:return e.match(i)?e.toUpperCase():null;case o:if("string"==typeof e){for(var u=[],c=0;c<e[r];++c){var l=e.charCodeAt(c);128>l?u.push(l):2048>l?u.push(192|l>>6,128|63&l):65536>l?u.push(224|l>>12,128|l>>6&63,128|63&l):u.push(240|l>>18,128|l>>12&63,128|l>>6&63,128|63&l)}return u}return e}},z=function(t,u,f,i){var c=[],l=0,s=8,v=f[r],h=function(r,t){if(t>=s){for(c.push(l|r>>(t-=s));t>=8;)c.push(r>>(t-=8)&255);l=0,s=8}t>0&&(l|=(r&(1<<t)-1)<<(s-=t))},d=S(t,u);switch(h(u,4),h(v,d),u){case n:for(var p=2;v>p;p+=3)h(parseInt(f.substring(p-2,p+1),10),10);h(parseInt(f.substring(p-2),10),[0,4,7][v%3]);break;case a:for(var p=1;v>p;p+=2)h(45*M[f.charAt(p-1)]+M[f.charAt(p)],11);v%2===1&&h(M[f.charAt(p-1)],6);break;case o:for(var p=0;v>p;++p)h(f[p],8)}for(h(e,4),8>s&&c.push(l);c[r]+1<i;)c.push(236,17);return c[r]<i&&c.push(236),c},D=function(t,e){for(var n=t.slice(0),a=t[r],o=e[r],u=0;o>u;++u)n.push(0);for(var f=0;a>f;){var i=p[n[f++]];if(i>=0)for(var c=0;o>c;++c)n[f+c]^=d[(i+e[c])%255]}return n.slice(a)},G=function(t,e,n){for(var a=[],o=t[r]/e|0,u=0,f=e-t[r]%e,i=0;f>i;++i)a.push(u),u+=o;for(var i=f;e>i;++i)a.push(u),u+=o+1;a.push(u);for(var c=[],i=0;e>i;++i)c.push(D(t.slice(a[i],a[i+1]),n));for(var l=[],s=t[r]/e|0,i=0;s>i;++i)for(var v=0;e>v;++v)l.push(t[a[v]+i]);for(var v=f;e>v;++v)l.push(t[a[v+1]-1]);for(var i=0;i<n[r];++i)for(var v=0;e>v;++v)l.push(c[v][i]);return l},U=function(r,t,e,n){for(var a=r<<n,o=t-1;o>=0;--o)a>>n+o&1&&(a^=e<<o);return r<<n|a},H=function(e){for(var n=t[e],a=k(e),o=[],u=[],f=0;a>f;++f)o.push([]),u.push([]);var i=function(r,t,e,n,a){for(var f=0;e>f;++f)for(var i=0;n>i;++i)o[r+f][t+i]=a[f]>>i&1,u[r+f][t+i]=1};i(0,0,9,9,[127,65,93,93,93,65,383,0,64]),i(a-8,0,8,9,[256,127,65,93,93,93,65,127]),i(0,a-8,9,8,[254,130,186,186,186,130,254,0,0]);for(var f=9;a-8>f;++f)o[6][f]=o[f][6]=1&~f,u[6][f]=u[f][6]=1;for(var c=n[2],l=c[r],f=0;l>f;++f)for(var s=0===f||f===l-1?1:0,v=0===f?l-1:l,h=s;v>h;++h)i(c[f],c[h],5,5,[31,17,21,17,31]);if(N(e))for(var d=U(e,6,7973,12),p=0,f=0;6>f;++f)for(var h=0;3>h;++h)o[f][a-11+h]=o[a-11+h][f]=d>>p++&1,u[f][a-11+h]=u[a-11+h][f]=1;return{matrix:o,reserved:u}},I=function(t,e,n){for(var a=t[r],o=0,u=-1,f=a-1;f>=0;f-=2){6===f&&--f;for(var i=0>u?a-1:0,c=0;a>c;++c){for(var l=f;l>f-2;--l)e[i][l]||(t[i][l]=n[o>>3]>>(7&~o)&1,++o);i+=u}u=-u}return t},P=function(t,e,n){for(var a=A[n],o=t[r],u=0;o>u;++u)for(var f=0;o>f;++f)e[u][f]||(t[u][f]^=a(u,f));return t},Q=function(t,e,n,a){for(var o=t[r],u=21522^U(n<<3|a,5,1335,10),f=0;15>f;++f){var i=[0,1,2,3,4,5,7,8,o-7,o-6,o-5,o-4,o-3,o-2,o-1][f],c=[o-1,o-2,o-3,o-4,o-5,o-6,o-7,o-8,7,5,4,3,2,1,0][f];t[i][8]=t[8][c]=u>>f&1}return t},T=function(t){for(var e=3,n=3,a=40,o=10,u=function(t){for(var n=0,o=0;o<t[r];++o)t[o]<5||(n+=e+(t[o]-5));for(var o=5;o<t[r];o+=2){var u=t[o];t[o-1]!==u||t[o-2]!==3*u||t[o-3]!==u||t[o-4]!==u||t[o-5]<4*u&&t[o+1]<4*u||(n+=a)}return n},f=t[r],i=0,c=0,l=0;f>l;++l){var s,v=t[l];s=[0];for(var h=0;f>h;){var d;for(d=0;f>h&&v[h];++d)++h;for(s.push(d),d=0;f>h&&!v[h];++d)++h;s.push(d)}i+=u(s),s=[0];for(var h=0;f>h;){var d;for(d=0;f>h&&t[h][l];++d)++h;for(s.push(d),d=0;f>h&&!t[h][l];++d)++h;s.push(d)}i+=u(s);var p=t[l+1]||[];c+=v[0];for(var h=1;f>h;++h){var m=v[h];c+=m,v[h-1]===m&&p[h]===m&&p[h-1]===m&&(i+=n)}}return i+=o*(Math.abs(c/f/f-.5)/.05|0)},Z=function(r,e,n,a,o){var u=t[e],f=z(e,n,r,R(e,a)>>3);f=G(f,u[1][a],w[u[0][a]]);var i=H(e),c=i.matrix,l=i.reserved;if(I(c,l,f),0>o){P(c,l,0),Q(c,l,a,0);var s=0,v=T(c);for(P(c,l,0),o=1;8>o;++o){P(c,l,o),Q(c,l,a,o);var h=T(c);v>h&&(v=h,s=o),P(c,l,o)}o=s}return P(c,l,o),Q(c,l,a,o),c},q="appendChild",B="createElement",V="createElementNS",j="setAttributeNS",J="createRange",K="selectNodeContents",O="createContextualFragment",W="createDocumentFragment",X="createTextNode",Y={generate:function(t,e){var u={numeric:n,alphanumeric:a,octet:o},i={L:l,M:s,Q:v,H:h};e=e||{};var d=e.version||-1,p=i[(e.ecclevel||"L").toUpperCase()],m=e.mode?u[e.mode.toLowerCase()]:-1,g="mask"in e?e.mask:-1;if(0>m)m="string"==typeof t?t.match(f)?n:t.match(c)?a:o:o;else if(m!==n&&m!==a&&m!==o)throw"invalid or unsupported mode";if(t=E(m,t),null===t)throw"invalid data format";if(0>p||p>3)throw"invalid ECC level";if(0>d){for(d=1;40>=d&&t[r]>$(d,m,p);++d);if(d>40)throw"too large data"}else if(1>d||d>40)throw"invalid version";if(-1!==g&&(0>g||g>8))throw"invalid mask";return Z(t,d,m,p,g)},generateHTML:function(t,e){e=e||{};for(var n=e.fillcolor?e.fillcolor:"#FFFFFF",a=e.textcolor?e.textcolor:"#000000",o=Y.generate(t,e),u=Math.max(e.modulesize||5,.5),f=Math.max(null!==e.margin?e.margin:4,0),i=document[B]("div"),c=o[r],l=['<table border="0" cellspacing="0" cellpadding="0" style="border:'+u*f+"px solid "+n+";background:"+n+'">'],s=0;c>s;++s){l.push("<tr>");for(var v=0;c>v;++v)l.push('<td style="width:'+u+"px;height:"+u+"px"+(o[s][v]?";background:"+a:"")+'"></td>');l.push("</tr>")}i.className="qrcode";var h=document[J]();h[K](i);var d=h[O](l.join("")+"</table>");return i[q](d),i},generateSVG:function(t,e){e=e||{};var n=e.fillcolor?e.fillcolor:"#FFFFFF",a=e.textcolor?e.textcolor:"#000000",o=Y.generate(t,e),u=o[r],f=Math.max(e.modulesize||5,.5),i=Math.max(e.margin?e.margin:4,0),c=f*(u+2*i),l=document[V]("http://www.w3.org/2000/svg","svg");l[j](null,"viewBox","0 0 "+c+" "+c),l[j](null,"style","shape-rendering:crispEdges");var s="qrcode"+Date.now();l[j](null,"id",s);var v=document[W](),h=document[V]("http://www.w3.org/2000/svg","style");h[q](document[X]("#"+s+" .bg{fill:"+n+"}#"+s+" .fg{fill:"+a+"}")),v[q](h);var d=function(r,t,e,n,a){var o=document[V]("http://www.w3.org/2000/svg","rect")||"";return o[j](null,"class",r),o[j](null,"fill",t),o[j](null,"x",e),o[j](null,"y",n),o[j](null,"width",a),o[j](null,"height",a),o};v[q](d("bg","none",0,0,c));for(var p=i*f,m=0;u>m;++m){for(var g=i*f,w=0;u>w;++w)o[m][w]&&v[q](d("fg","none",g,p,f)),g+=f;p+=f}return l[q](v),l},generatePNG:function(t,e){e=e||{};var n,a=e.fillcolor?e.fillcolor:"#FFFFFF",o=e.textcolor?e.textcolor:"#000000",u=Y.generate(t,e),f=Math.max(e.modulesize||5,.5),i=Math.max(null!==e.margin&&void 0!==e.margin?e.margin:4,0),c=u[r],l=f*(c+2*i),s=document[B]("canvas");if(s.width=s.height=l,n=s.getContext("2d"),!n)throw"canvas support is needed for PNG output";n.fillStyle=a,n.fillRect(0,0,l,l),n.fillStyle=o;for(var v=0;c>v;++v)for(var h=0;c>h;++h)u[v][h]&&n.fillRect(f*(i+h),f*(i+v),f,f);return s.toDataURL()}};return Y});
